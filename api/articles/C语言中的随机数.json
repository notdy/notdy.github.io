{"title":"C语言中的随机数","uid":"82f82e523d786593377048e2c5114c1c","slug":"C语言中的随机数","date":"2023-10-27T07:29:22.000Z","updated":"2023-11-10T12:17:41.278Z","comments":true,"path":"api/articles/C语言中的随机数.json","keywords":null,"cover":null,"content":"<p>今天在一个小程序中看到了一个随机函数，心血来潮，来记录一下，顺便回忆一下c#(有点懒，c#部分后期再补)</p>\n<h1 id=\"c语言中产生随机数\"><a href=\"#c语言中产生随机数\" class=\"headerlink\" title=\"c语言中产生随机数\"></a>c语言中产生随机数</h1><div class=\"language-c\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">c</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">stdio.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">stdlib.h</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #676E95; font-style: italic\">//这里要注意，必须写，不然vs报错，因为rand函数在stdlib下面</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #BABED8\"> </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">time.h</span><span style=\"color: #89DDFF\">&gt;</span><span style=\"color: #676E95; font-style: italic\">//这里要注意，因为随机数是根据系统日期所产生的.</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">srand</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #82AAFF\">time</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">));</span><span style=\"color: #676E95; font-style: italic\">//根据当前系统日期产生随机数</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">//srand((unsigned) time(NULL));也可以这样写</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> num</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">rand</span><span style=\"color: #89DDFF\">()%</span><span style=\"color: #F78C6C\">201</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #F78C6C\">100</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">//产生一个-100到100之间的数</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">printf</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">你产生的随机数是%d</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">num</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span></code></pre></div><p>运行结果<br>第一次,下面是控制台输出</p>\n<blockquote>\n<p>你产生的随机数是47<br>第二次<br>你产生的随机数是-34</p>\n</blockquote>\n<h2 id=\"rand\"><a href=\"#rand\" class=\"headerlink\" title=\"rand()\"></a>rand()</h2><p>rand函数指定数字范围原理<br>要让随机数限定在一个范围，可以采用模除加加法的方式。<br>要产生随机数r， 其范围为 m&lt;&#x3D;r&lt;&#x3D;n，可以使用如下公式：<br>rand()%(n-m+1)+m<br>其原理为，对于任意数，<br>0&lt;&#x3D;rand()%(n-m+1)&lt;&#x3D;n-m<br>同时加上m<br>0+m&lt;&#x3D;rand()%(n-m+1)+m&lt;&#x3D;n-m+m<br>得到<br>m&lt;&#x3D;rand()%(n-m+1)+m&lt;&#x3D;n</p>\n<h2 id=\"rand的例子\"><a href=\"#rand的例子\" class=\"headerlink\" title=\"rand的例子\"></a>rand的例子</h2><div class=\"language-c\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">c</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">stdio.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">time.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF; font-style: italic\">#include</span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #C3E88D\">stdlib.h</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #C792EA\">int</span><span style=\"color: #BABED8\"> </span><span style=\"color: #82AAFF\">main</span><span style=\"color: #89DDFF\">()</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#123;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">//产生一个-200到200之间的数</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">srand</span><span style=\"color: #89DDFF\">((</span><span style=\"color: #C792EA\">unsigned</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #82AAFF\">time</span><span style=\"color: #89DDFF\">(NULL));</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">//rand()%(200-(-200)+1)+(-200)</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #676E95; font-style: italic\">//rand()%401-200</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #C792EA\">int</span><span style=\"color: #F07178\"> num</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #82AAFF\">rand</span><span style=\"color: #89DDFF\">()%</span><span style=\"color: #F78C6C\">401</span><span style=\"color: #89DDFF\">-</span><span style=\"color: #F78C6C\">200</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #82AAFF\">printf</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #C3E88D\">随机数的结果为%d</span><span style=\"color: #BABED8\">\\n</span><span style=\"color: #89DDFF\">&quot;</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #F07178\">num</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #F07178\">    </span><span style=\"color: #89DDFF; font-style: italic\">return</span><span style=\"color: #F07178\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&#125;</span></span>\n<span class=\"line\"></span></code></pre></div><h2 id=\"不足点\"><a href=\"#不足点\" class=\"headerlink\" title=\"不足点\"></a>不足点</h2><ol>\n<li>没有说清楚srand和time的细节部分</li>\n<li>rand细节部分</li>\n</ol>\n","text":"今天在一个小程序中看到了一个随机函数，心血来潮，来记录一下，顺便回忆一下c#(有点懒，c#部分后期再补) c语言中产生随机数c#include &lt;stdi...","permalink":"/post/C语言中的随机数","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"C语言","slug":"C语言","count":2,"path":"api/tags/C语言.json"},{"name":"随机函数","slug":"随机函数","count":1,"path":"api/tags/随机函数.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#c%E8%AF%AD%E8%A8%80%E4%B8%AD%E4%BA%A7%E7%94%9F%E9%9A%8F%E6%9C%BA%E6%95%B0\"><span class=\"toc-text\">c语言中产生随机数</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#rand\"><span class=\"toc-text\">rand()</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#rand%E7%9A%84%E4%BE%8B%E5%AD%90\"><span class=\"toc-text\">rand的例子</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%8D%E8%B6%B3%E7%82%B9\"><span class=\"toc-text\">不足点</span></a></li></ol></li></ol>","author":{"name":"矽","slug":"blog-author","avatar":"https://ik.imagekit.io/bennyxguo/ObsidianestLogo-hex_hecqbw.png?updatedAt=1692679397324","link":"/","description":"","socials":{"github":"https://github.com/notdy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45418837","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibli.jpg","link":"https://space.bilibili.com/441747654"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"错误\tC2371\tCheer 重定义；不同的基类型","uid":"2878224f494f13aa64aec2ca34f9f0c1","slug":"不同的基类型","date":"2023-10-27T08:44:01.000Z","updated":"2023-11-10T12:24:19.277Z","comments":true,"path":"api/articles/不同的基类型.json","keywords":null,"cover":[],"text":"错误 C2371 “Cheer”: 重定义；不同的基类型 问题区: 原因这是因为c语言编译器是从上往下执行的，也就是说你必须要把使用的函数名放在main函数之前...","permalink":"/post/不同的基类型","photos":[],"count_time":{"symbolsCount":209,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"VS报错","slug":"VS报错","count":2,"path":"api/tags/VS报错.json"}],"author":{"name":"矽","slug":"blog-author","avatar":"https://ik.imagekit.io/bennyxguo/ObsidianestLogo-hex_hecqbw.png?updatedAt=1692679397324","link":"/","description":"","socials":{"github":"https://github.com/notdy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45418837","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibli.jpg","link":"https://space.bilibili.com/441747654"}}}}},"next_post":{"title":"VS2019中出现【Windows SDK】找不到 Windows SDK 版本10.0.18362.0的解决办法","uid":"e2ec0c5341a24647bd926cc2d6bdc6d8","slug":"VS2019中出现【Windows-SDK】找不到-Windows-SDK-版本10-0-18362-0的解决办法","date":"2023-10-27T03:26:37.000Z","updated":"2023-11-10T12:14:57.027Z","comments":true,"path":"api/articles/VS2019中出现【Windows-SDK】找不到-Windows-SDK-版本10-0-18362-0的解决办法.json","keywords":null,"cover":[],"text":"VS2019中出现【Windows SDK】找不到 Windows SDK 版本10.0.18362.0的解决办法方法一：在项目上右击选择重定目标解决方案，将w...","permalink":"/post/VS2019中出现【Windows-SDK】找不到-Windows-SDK-版本10-0-18362-0的解决办法","photos":[],"count_time":{"symbolsCount":208,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"VS报错","slug":"VS报错","count":2,"path":"api/tags/VS报错.json"}],"author":{"name":"矽","slug":"blog-author","avatar":"https://ik.imagekit.io/bennyxguo/ObsidianestLogo-hex_hecqbw.png?updatedAt=1692679397324","link":"/","description":"","socials":{"github":"https://github.com/notdy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_45418837","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibli.jpg","link":"https://space.bilibili.com/441747654"}}}}}}